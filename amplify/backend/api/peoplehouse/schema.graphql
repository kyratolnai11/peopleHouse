# This "input" configures a global authorization rule to enable public access to
# all models in this schema. Learn more about authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules
input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!

type User @model {
  firstname: String!
  lastname: String!
  userType: UserType!
  email: String!
  password: String!
  crews: [Crew]
  events: [Event]
  venues: [Venue] # Venues associated with the user
}

type Venue @model {
  name: String!
  description: String!
  capacity: Int!
  openingHours: String!
  events: [Event] 
  users: [User] 
}

type Event @model {
  title: String!
  brief: String!
  description: String!
  agenda: String!
  datetime: DateTime!
  numOfTickets: Int!
  host: String!
  attendees: [Attendee] 
}

union Attendee = User | Crew


enum UserType {
  NORMAL
  COMMUNITY_BUILDER
}

type Crew @model {
  firstname: String!
  lastname: String!
  familyRole: String!
}

